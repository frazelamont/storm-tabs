!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.StormTabs=e()}(this,function(){"use strict";function t(t,e){this.settings=l({},r,e),this.links=[].slice.call(t.querySelectorAll(this.settings.titleClass)),this.targets=this.links.map(function(t){return document.getElementById(t.getAttribute("href").substr(1))||console.error("Tab target not found")}),this.current=this.settings.active,this.initAria().initTitles()}function e(e,i){var s=[].slice.call(document.querySelectorAll(e));if(0===s.length)throw new Error("Tabs cannot be initialised, no augmentable elements found");return s.forEach(function(e){n.push(new t(e,i))}),n}function i(t,i){s(),e(t,i)}function s(){n=[]}var n=[],r={titleClass:".js-tabs__link",currentClass:"active",active:0},a=require("dom-classlist"),o=require("storm-attributelist"),l=require("merge");return t.prototype.initAria=function(){return this.links.forEach(function(t,e){o.set(t,{role:"tab","aria-expanded":!1,"aria-selected":!1,"aria-controls":this.targets[e].getAttribute("id")})}.bind(this)),this.targets.forEach(function(t){o.set(t,{role:"tabpanel","aria-hidden":!0,tabIndex:"-1"})}),this},t.prototype.initTitles=function(){var t=function(t){this.toggle(t)};return this.links.forEach(function(e,i){e.addEventListener("click",function(e){e.preventDefault(),t.call(this,i)}.bind(this),!1)}.bind(this)),this},t.prototype.change=function(t,e){var i={open:{classlist:"add",tabIndex:{target:this.targets[e],value:"0"}},close:{classlist:"remove",tabIndex:{target:this.targets[this.current],value:"-1"}}};a(this.links[e])[i[t].classlist](this.settings.currentClass),a(this.targets[e])[i[t].classlist](this.settings.currentClass),o.toggle(this.targets[e],"aria-hidden"),o.toggle(this.links[e],["aria-selected","aria-expanded"]),o.set(i[t].tabIndex.target,{tabIndex:i[t].tabIndex.value})},t.prototype.open=function(t){return this.change("open",t),this.current=t,this},t.prototype.close=function(t){return this.change("close",t),this},t.prototype.toggle=function(t){return this.current!==t?null===this.current?(this.open(t),this):(this.close(this.current).open(t),this):void 0},{init:e,reload:i,destroy:s}});